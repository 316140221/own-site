<!doctype html>
<html lang="{{ site.language }}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>{% if title %}{{ title | decodeEntities }} 路 {% endif %}{{ site.name }}</title>
    <meta name="description" content="{{ description or site.description }}" />
    <meta property="og:site_name" content="{{ site.name }}" />
    {% if site.googleSiteVerification %}
      <meta name="google-site-verification" content="{{ site.googleSiteVerification }}" />
    {% endif %}

    {% if site.url %}
      {% set canonical = (page.url | url) | absoluteUrl(site.url) %}
      <link rel="canonical" href="{{ canonical }}" />
      <meta property="og:url" content="{{ canonical }}" />
    {% endif %}
    <meta property="og:type" content="{{ ogType or 'website' }}" />
    <meta property="og:title" content="{% if title %}{{ title | decodeEntities }} 路 {% endif %}{{ site.name }}" />
    <meta property="og:description" content="{{ description or site.description }}" />

    <link
      rel="alternate"
      type="application/rss+xml"
      title="{{ site.name }} RSS"
      href="{{ (rssPath or '/feed.xml') | url }}"
    />

    <link rel="stylesheet" href="{{ '/assets/style.css' | url }}" />
    <script src="{{ '/assets/app.js' | url }}" defer></script>
    {% include "partials/analytics.njk" %}
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <a class="brand" href="{{ '/' | url }}">{{ site.brand or site.name }}</a>
        <nav class="nav">
          <a href="{{ '/' | url }}">Home</a>
          <a href="{{ '/search/' | url }}">Search</a>
          {% for cat in categories %}
            <a href="{{ ('/category/' + cat.slug + '/') | url }}">{{ cat.label }}</a>
          {% endfor %}
          <a href="{{ '/about/' | url }}">About</a>
        </nav>
      </div>
    </header>

    <main class="container" data-pagefind-body>
      {{ content | safe }}
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <span>Cloud-first utilities 路 RSS stream 路 {{ (buildTime or '') | formatDateTime }}</span>
      </div>
    </footer>
  </body>
</html>
